Это объект, который **контролирует доступ** к другому объекту (реальному субъекту), **подменяя его**, но сохраняя тот же интерфейс.

## Цели

- Отложить создание/инициализацию тяжёлого объекта до момента, когда он действительно нужен (**ленивая инициализация**).
- Контроль доступа (например, проверка прав перед вызовом метода).
- Логирование или кэширование операций над объектом.
- Защита от прямого взаимодействия с удалённым ресурсом (например, сетевой вызов).


## Когда использовать

- Объект дорогостоящий (по памяти/времени) — хочется создавать его только при необходимости.
- Нужна дополнительная логика при обращении к объекту: проверки, логгирование, кэширование.
- Реальный объект находится за границей процесса/сети — заместитель скрывает детали взаимодействия.


Допустим, у имеется сервис загрузки изображений с диска. Загрузка — дорогая операция. Хотим загружать изображение **только при первом запросе**.

```go
package main

import (
	"fmt"
	"time"
)

// Image — общий интерфейс
type Image interface {
	Display()
}

// RealImage — реальный объект (дорогой)
type RealImage struct {
	filename string
}

func NewRealImage(filename string) *RealImage {
	fmt.Printf("Загрузка изображения %s\n", filename)
	time.Sleep(2 * time.Second) // имитация долгой загрузки
	return &RealImage{filename: filename}
}

func (r *RealImage) Display() {
	fmt.Printf("Отображение изображения %s\n", r.filename)
}

// ProxyImage — заместитель
type ProxyImage struct {
	filename string
	realImage *RealImage
}

func NewProxyImage(filename string) *ProxyImage {
	return &ProxyImage{filename: filename}
}

func (p *ProxyImage) Display() {
	if p.realImage == nil {
		p.realImage = NewRealImage(p.filename)
	}
	p.realImage.Display()
}

// Использование
func main() {
	var image Image = NewProxyImage("photo.jpg")

	// Ничего не загружается
	fmt.Println("Создан заместитель")

	// Только здесь происходит загрузка + отображение
	image.Display()

	// Повторный вызов — без повторной загрузки
	image.Display()
}
```

- `RealImage` создаётся **только при первом вызове `Display()`**.
- Повторные вызовы используют уже созданный объект.
- Клиент (`main`) работает с интерфейсом `Image`, не зная, с чем именно — реальным объектом или заместителем.

