
## Decorator VS Proxy

–û—Ç–ª–∏—á–∏–µ **Proxy** –æ—Ç **Decorator** (–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤) ‚Äî –≤ **—Ü–µ–ª–∏**, –∞ –Ω–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.
**Proxy ‚Äî –ø—Ä–æ –∫–æ–Ω—Ç—Ä–æ–ª—å**, **Decorator ‚Äî –ø—Ä–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**.

|–ö—Ä–∏—Ç–µ—Ä–∏–π|Proxy|Decorator|
|---|---|---|
|**–¶–µ–ª—å**|**–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø** –∫ –æ–±—ä–µ–∫—Ç—É|**–†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ** –æ–±—ä–µ–∫—Ç–∞|
|**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**|–¢–æ—Ç –∂–µ, —á—Ç–æ —É —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞|–¢–æ—Ç –∂–µ, —á—Ç–æ —É –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ–≥–æ|
|**–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞**|–ß–∞—Å—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç **–ª–µ–Ω–∏–≤–æ** –∏–ª–∏ **—É—Å–ª–æ–≤–Ω–æ**|–û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç|
|**–õ–æ–≥–∏–∫–∞**|–î–æ–±–∞–≤–ª—è–µ—Ç **–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é** –ª–æ–≥–∏–∫—É: –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è|–î–æ–±–∞–≤–ª—è–µ—Ç **–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É**: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∂–∞—Ç–∏–µ, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç.–ø.|
|**–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**|–ö–ª–∏–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –æ–Ω —Å –Ω–∞—Å—Ç–æ—è—â–∏–º –æ–±—ä–µ–∫—Ç–æ–º –∏–ª–∏ –ø—Ä–æ–∫—Å–∏|–ö–ª–∏–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º|

> üí° **–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ**:
> 
> - –ï—Å–ª–∏ –≤—ã **–∑–∞–º–µ–Ω—è–µ—Ç–µ** –æ–±—ä–µ–∫—Ç, —á—Ç–æ–±—ã **—É–ø—Ä–∞–≤–ª—è—Ç—å**, –∫–æ–≥–¥–∞/–∫–∞–∫/–∫–æ–º—É –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî —ç—Ç–æ **Proxy**.
> - –ï—Å–ª–∏ –≤—ã **–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ** –æ–±—ä–µ–∫—Ç, —á—Ç–æ–±—ã **–¥–æ–±–∞–≤–∏—Ç—å** –µ–º—É –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî —ç—Ç–æ **Decorator**.


```go
// Proxy: –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞
proxy := NewProxyImage("big.jpg")
proxy.Display() // ‚Üí —Å–æ–∑–¥–∞—ë—Ç RealImage –≤–Ω—É—Ç—Ä–∏

// Decorator: –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –æ–±—ä–µ–∫—Ç—É
real := NewRealImage("small.jpg")
logged := NewLoggingImage(real) // –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç, –¥–æ–±–∞–≤–ª—è—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logged.Display() // ‚Üí –ª–æ–≥–∏—Ä—É–µ—Ç + –≤—ã–∑—ã–≤–∞–µ—Ç real.Display()
```


## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

|–ü–∞—Ç—Ç–µ—Ä–Ω|–¶–µ–ª—å|–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å|–û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞|
|---|---|---|---|
|**Adapter**|–°–¥–µ–ª–∞—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏|–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏/—Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ —Å –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π|**–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –¥—Ä—É–≥–æ–π, –æ–∂–∏–¥–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç–æ–º|
|**Bridge**|–†–∞–∑–¥–µ–ª–∏—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –º–µ–Ω—è—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ|–ö–æ–≥–¥–∞ –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—è—é—Ç—Å—è —á–∞—Å—Ç–æ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ|**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**: –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é|
|**Composite**|–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –≥—Ä—É–ø–ø—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ|–ò–µ—Ä–∞—Ä—Ö–∏—è "—á–∞—Å—Ç—å-—Ü–µ–ª–æ–µ" (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ UI, —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã)|**–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ª–∏—Å—Ç—å—è –∏ —É–∑–ª—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å|
|**Decorator**|–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç—É|–ù—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–æ—Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤|**–û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç**, —Å–æ—Ö—Ä–∞–Ω—è—è –µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å; –º–æ–∂–Ω–æ **–º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ**|
|**Facade**|–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ|–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å –Ω–∞–±–æ—Ä–æ–º –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (API, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)|**–°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: –æ–¥–∏–Ω –º–µ—Ç–æ–¥ —Ñ–∞—Å–∞–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π|
|**Flyweight**|–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –∑–∞ —Å—á—ë—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö|–ú–Ω–æ–≥–æ –ø–æ—Ö–æ–∂–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏–º–≤–æ–ª—ã –≤ —Ç–µ–∫—Å—Ç–µ)|**–†–∞–∑–¥–µ–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –æ–±—â–µ–µ (intrinsic) –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ–±—â–∏–π –ø—É–ª, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ ‚Äî –≤–Ω–µ—à–Ω–µ–µ|
|**Proxy**|–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É|–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø|**–ü–æ–¥–º–µ–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç**, –Ω–æ —Å–æ–∑–¥–∞—ë—Ç/–≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ **–ø–æ —É—Å–ª–æ–≤–∏—é –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ**|