
### Принцип работы

Сортировка вставкой — это простой алгоритм, который строит отсортированный массив по одному элементу за раз. Он работает следующим образом:

1. **Первый элемент** массива считается уже отсортированным.
2. **Каждый следующий элемент** вставляется в свою правильную позицию в уже отсортированной части массива. Это происходит путем сравнения элемента с элементами в отсортированной части и сдвига элементов вправо до тех пор, пока не найдется подходящее место для вставки.

```go
package main

import "fmt"

func insertionSort(arr []int) {
	for i := 1; i < len(arr); i++ {
		key := arr[i]
		j := i - 1
		for j >= 0 && arr[j] > key {
			arr[j+1] = arr[j]
			j = j--
		}
		arr[j+1] = key
	}
}

func main() {
	arr := []int{64, 34, 25, 12, 22, 11, 90}
	insertionSort(arr)
	fmt.Println(arr)
}
```

### Асимптотическая сложность

- **Лучший случай:** O(n), когда массив уже отсортирован. В этом случае внутренний цикл выполняется только один раз для каждого элемента.
- **Средний случай:** O(n^2), когда элементы расположены в случайном порядке. Внутренний цикл в среднем выполняется примерно n/2 раз для каждого элемента.
- **Худший случай:** O(n^2), когда массив отсортирован в обратном порядке. Внутренний цикл выполняется максимальное количество раз для каждого элемента.

### Объяснение кода

- **Внешний цикл:** Перебирает элементы массива начиная со второго (индекс 1).
- **Внутренний цикл:** Сравнивает текущий элемент (key) с элементами в отсортированной части массива слева. Если текущий элемент меньше предыдущего, то элементы сдвигаются вправо, чтобы освободить место для вставки.
- **Вставка элемента:** После того, как найдено подходящее место, текущий элемент вставляется в это место.

### Преимущества и недостатки

- **Преимущества:**
    - Простой для понимания и реализации.
    - Эффективен для небольших массивов или почти отсортированных массивов.
    - Стабильная сортировка (сохраняет относительный порядок равных элементов).
- **Недостатки:**
    - Медленнее, чем более сложные алгоритмы (например, быстрая сортировка) для больших массивов.
    - Квадратичная временная сложность в худшем и среднем случаях.

### Использование в Go

Хотя сортировка вставкой не является самым быстрым алгоритмом для больших массивов, она может быть полезна в следующих случаях:

- **Сортировка небольших массивов:** Для небольших массивов она может быть быстрее, чем более сложные алгоритмы из-за меньших накладных расходов.
- **Сортировка почти отсортированных массивов:** Если массив уже почти отсортирован, сортировка вставкой может быть очень эффективной.
- **Стабильная сортировка:** Когда важно сохранить относительный порядок равных элементов.