### Что это такое?
**golanci-lint** — это быстрый и эффективный агрегатор линтеров для языка **Go**. . Вместо того, чтобы устанавливать и запускать множество линтеров по отдельности, **golanci-lint** объединяет их в один инструмент, который может выполнять все проверки параллельно. Это значительно экономит время и ресурсы.



### Установка
```bash
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```
Это установит **go**lanci-lint в ваш `GOPATH/bin` или `GOBIN`. Убедитесь, что эта папка включена в ваш `$PATH`.


### Настройка 

- **Установка расширения Go для VS Code**
	 Если у вас ещё не установлено расширение **Go**, откройте **VS Code**, перейдите в раздел "Extensions" (Расширения) (Ctrl+Shift+X) и найдите **Go**. . Установите его. Это расширение предоставляет все необходимые инструменты для работы с **Go**, включая поддержку линтеров.
- 
 - **Настройка VS Code**
	  После установки расширения вам нужно настроить его для использования **golanci-lint**.

	1. Открываем **VS Code** и перейдите в настройки (File -> Preferences -> Settings или `Ctrl+,`).
	2. Найдем **Go**-настройки, введя **`go`** в строку поиска.
	3. Найдём параметр **`Go: Lint Tool`** и выбераем **`golangci-lint`** из выпадающего списка.
	4. Параметр `Go: Lint on Save` - установливаем значение **`workspace`** или **`file`**. Это определит, когда линтер будет запускаться. Рекомендуется использовать **`file`** для быстрой проверки только текущего файла при сохранении.
	5. Если **golanci-lint** не работает сразу, возможно,  придётся указать путь к исполняемому файлу. Для этого найдите параметр **`Go: Lint Flags`** и добавьте флаг **`--path <путь к golangci-lint>`**.
	6. Сохраните настройки. После этого **VS Code** будет автоматически запускать **golanci-lint**   при сохранении файлов.
	
- **Создание файла конфигурации**

Чтобы настроить, какие именно линтеры использовать и как их запускать, создайте файл **`.golangci.yml`** в корне вашего проекта. Это позволяет вам выбирать, какие проверки **golanci-lint** должен проводить. Например, следующий файл включает линтеры **`errcheck`** и `govet`


#### Пример .golangci.yml

```yaml
run:
  timeout: 5m

issues:
  exclude-use-default: false
  exclude-dirs:
    - vendor
    - third_party
    - mocks

linters-settings:
  govet:
    check-shadowing: true
  errcheck:
    check-type-assertions: true

linters:
  enable:
    - govet
    - errcheck
    - misspell
    - unparam
    - gocritic
    - gofmt
```

- **`run`**: Позволяет настроить общие параметры выполнения, такие как таймаут.
- **`issues`**: Здесь вы можете настроить, какие проблемы исключать. Например, `exclude-dirs` позволяет игнорировать определённые папки.
- **`linters-settings`**: Позволяет тонко настроить каждый линтер. Например, для **`govet`** можно включить проверку на теневые переменные (`check-shadowing`).
- **`linters`**: Самый важный раздел, где вы включаете или отключаете конкретные линтеры. Полный список доступен на [официальном сайте **go**lanci-lint](https://golangci-lint.run/usage/linters/).

### Запуск golanchi-lint
После создания файла конфигурации вы можете запустить **golanci-lint** из командной строки в корне вашего проекта.
- Для проверки всего проекта:
```bash
golangci-lint run
```
- Для проверки конкретного файла:
```bash
golangci-lint run ./path/to/your_file.go
```
- Для исправления некоторых проблем автоматически (например, форматирование или опечатки):
```bash
golangci-lint run --fix
```

###  Работа линтера в VS CODE

- **При сохранении файла**: Это самое распространённое событие. Когда вы сохраняете файл (обычно с помощью `Ctrl+S`), **VS Code** запускает линтер, чтобы проверить код на ошибки и предупреждения. Это позволяет быстро получить обратную связь.
    
- **При открытии файла**: Иногда линтер запускается при первом открытии файла в редакторе, чтобы показать существующие проблемы, не дожидаясь, пока вы начнёте его редактировать.
    
- **В фоновом режиме**: Некоторые расширения могут запускать линтер в фоновом режиме, когда вы печатаете, что обеспечивает проверку в реальном времени. Однако это может нагружать систему, поэтому чаще всего используется проверка по событию "сохранения".
    
- **По команде**: Вы также можете запустить линтер вручную, используя специальную команду, предоставляемую расширением.