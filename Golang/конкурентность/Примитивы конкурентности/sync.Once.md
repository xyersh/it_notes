**sync.Once** - это встроенный механизм синхронизации в Go, который гарантирует выполнение определенного блока кода **ровно один раз**, даже если этот блок вызывается из нескольких горутин одновременно. Это особенно полезно при инициализации ресурсов или выполнении операций, которые не должны повторяться.

### Область применения

- **Инициализация ресурсов:**
    - Создание подключения к базе данных
    - Загрузка конфигурационных файлов
    - Инициализация глобальных переменных
- **Выполнение операций один раз:**
    - Запуск длительной операции, результат которой должен быть кэширован
    - Выполнение дорогостоящих вычислений
- **Создание синглтонов:**
    - Гарантирует, что объект создается только один раз

### Основные тезисы использования

- **Гарантия однократного выполнения:** Независимо от того, сколько раз вызывается функция, обернутая в `sync.Once`, код внутри нее выполнится только один раз.
- **Безопасность для конкурентных вызовов:** Даже если несколько горутин вызовут эту функцию одновременно, только одна из них выполнит код внутри.
- **Простота использования:** Синтаксис `sync.Once` интуитивно понятен и не требует глубоких знаний о синхронизации.

### Пример использования

```go
package main

import (
    "fmt"
    "sync"
)

var once sync.Once
var instance *Singleton

type Singleton struct {
    data string
}

func GetInstance() *Singleton {
    once.Do(func() {
        instance = &Singleton{data: "Initialized"}
        fmt.Println("Singleton instance created")
    })
    return instance
}

  

func main() {
    var wg sync.WaitGroup
    wg.Add(2)

	go func() {
        defer wg.Done()
        s := GetInstance()
        fmt.Println(s.data)
    }()
    
    go func() {
        defer wg.Done()
        s := GetInstance()
        fmt.Println(s.data)
    }()

    wg.Wait()
}
```