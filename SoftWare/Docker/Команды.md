
### Общие команды
-  `docker -v` - версия установленного докера
- `docker version` - развернутая информация о докере
- `docker system df` - вывод общей информации об образах, контейнерах
- `docker login` - локальная авторизация
- `docker logout` - разлогиниться
- `docker logs <container-name>` - посмотреть логи работающего контейнера
	- `-f`, `--follow` - показывать логи в режиме реального времени.
- `docker system prune` - очистит все остановленные контейнеры, образы и кэш.
### Для работы с образами
- `docker build [параметры] <локальный путь к Dockerfile> ` - собрать образ на основе Dockerfile: `docker build -t ubuntu:20.4 .`
  Точка в конце означает "текущий файл"
	- `-f` - явно указать имя файла, с которого будет проходить сборка (если нужно что-то вместо Dockerfile)
	- `-t` - указать имя нового образа
	- `--platform <planform_name>` - указать платформу, для которой будет собираться образ. Например `linux/amd64` 
	- `--no-cache` - сборка без использования кэша
	
- `docker history <образ>` - просмотреть слои образа
- `docker images <параметры> [образ]` - просмотр скачанных образов 
	- `--no-trunc` - отображать полные хэши
	- `-q` - отображать только хэши образов
	- `--format <шаблон>` - список образов в указанно формате
		- пример: `docker images --format '{{.Repository}}:{{.Tag}}'`
- `docker image ls` - также, просмотр скачанных образов
- `docker inspect <IMAGE-NAME>` -  получить детальное инфо по контейнеру.
	- `-f "{{key1}} {{key2}}..."` - Определяет формат вывода, позволяет отображать только нужные значения.
- `docker rmi <образ...>` - удалить  образ(ы) по хэшу образа. Если присутствует контейнер от образа - поругается на это
- `docker rmi -f <образ...>` - принудительное удаление образа, контейнер при этом останется.
- `docker pull <образ...>` - скачать образ(ы) из репозитория 
- `docker push <образ>` - отправить образ на Docker Hub. Где `образ` должен быть представлен в формате `user/image:tag`. При этом должны быть соблюдены следующие условия:
	- Пользователь должен быть зарегистрирован на локальной машине (`docker login`)
	- В аккаунте hub.docker.com должен у того же пользователя быть заведен одноименный (`image`) репозиторий.
- `docker tag <исходный_образ> <результирующий_образ>` - создать новую ссылку на существующий  образ, но уже с новым названием. 
- `docker image rm <образ...>` - удалить образ(ы)
- `docker image inspect <inmage-name> [--format={{...}}]` - просмотреть настройки образа
	```bash 
	docker image inspect my-go-server:v1.0.0 --format='{{.Architecture}}/{{.Os}}'
	```

- `docker commit <контейнер> [имя нового образа:тег]` - создать новый образ на основе контейнера




### Для работы с контейнерами
- `docker attach [работающий контейнер]` - Команда позволяет войти в этач-режим работы контейнера, который, собсно является режимом по умолчанию.  Этач режим как бы блокирует ввод в консоль на время работы запущенного контейнера. Тажке данный режим объединяет стандартные потоки вывода хостовой консолины и работающего контейнера. (все что формируется в stdout контейнера благополучно отображается на консолине хоста)  

- `docker cp <путь на хосте> <контейнер>:<путь в контейнере>` - копировать папки/файлы между хостом и контейнером.
	```bash
	docker cp <HOST-SRC> <CONTAINER>:<CONT-DEST>
	docker cp <CONTAINER>:<CONT-SRC> <HOST-SCR>
	```
- `docker exec [опции] <контейнер> <команда>` - войти в оболочку **работающего** контейнера. (`docker exec -it musing_wozniak bash` ) 
- `docker inspect <CONTAINER-NAME>` -  получить детальное инфо по контейнеру
- `docker ps [параметры]` - просмотр работающих контейнеров
	- `-a` - просмотр всех установленных контейнеров
	- `--all` - просмотр всех установленных контейнеров
	- `-q` - отобразить только хэш(ID) контейнеров
- `docker run [опции] <образ>` - Запуск контейнера из образа.
	Примеры опций:
	- `-d` - запуск в фоне (detached mode) когда консолька не блокируется.
	- `-p <хост:контейнер>` — проброс портов.
	- `--publish <хост:контейнер>` - та же шляпа, что и `-p`
	- `--name <имя>` — задать имя запускаемому контейнеру.
	- `-v <хост:контейнер>` — монтирование томов. (bind mount). Указываются только абсолютные пути хоста и контейнера
	- `--mount type=[bind/volume],source=[source-path],target=[target-path]` - новый стиль использования томов .
	- `-e <VAR=значение>` — установка переменных окружения.
	- `--rm` - удалить контейнер после завершения его работы
	- `-t` - запуск контейнера со входом в его терминал 
	- `--entrypoint=команда` - запуск с переуказанием `ENTRYPOINT`
	- `-c команда` - указание команды
	- `--no-cache` - собрать образ без использования кэша
	- `-H [REMOTE-DOCKER-ENGINE-IP]:[PORT]` - запустить на демоне с удалонного хоста по IP и порту.
	- `--cpus=[limit]` - устанавливает лимит процессорных мощностей.
		Например запуск контейнера nginx с  выделением 50%  мощности процессора.
		```bash
		docker run --cpus=.5 nginx 
		```
	- `--memory=[memory-limit-in]` - выделить лимит по RAM
		```bash
		docker run --memory=100mb nginx
		```

- `docker start <контейнер>[контейнер...]`- запуск существующего контейнера(ов) по имени контейнера или ID 
- `docker stats` - статистика по работающим контейнерам,  CPU, Mem и т.д.
- `docker stop <контейнер>[контейнер...]` - остановить контейнер(ы) (по имени контейнера или его ID)
- `docker restart <container-name>` - рестарт контейнера

- `docker rm <контейнер>[контейнер...]` - удалить контейнер(ы)  по названию контейнера
### Для работы с томами Docker
- `docker volume create <имя вольюма>` - создать том
- `docker volume ls` - список доступных томов
- `docker volume rm <вольюм>` - удаление тома по имени 
- `docker volume prune` - удалить все   используемые контейнерами тома

### Для работы с сетями Docker
- `docker network create <network-name>` - создать сеть. Сеть используется как контекст в рамках которого будут работать контейнеры docker. Без сети работающие контейнеры не увидят друг-друга
	- `--driver [bridge|none|host]` - выбор драйвера сети
	- `-d` - то же что и `--driver`
	- `--subnet 182.18.0.0/16 MY-CUSTOM-NETWORK` - указание координат подсети
	- `--gateway 172.22.0.1` - устанавливает IP-адрес шлюза для для связи с внешними сетями (например, с интернетом или с хост-машиной)
- `docker network ls` - список всех имеющихся сетей
- `docker network inspect NAME` - подробную информацию о конкретной сети по ее имени или ID. Вывод включает IP-адреса, конфигурацию и список контейнеров, подключенных к этой сети.
- `docker network connect NETWORK CONTAINER`- Подключает запущенный контейнер к существующей сети. Это позволяет контейнеру взаимодействовать с другими контейнерами в этой сети.
- `docker network disconnect NETWORK CONTAINER` - Отключает контейнер от сети.
- `docker network prune` - удаляет все неиспользуемые сети
